


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > GuessEvaluation</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.fdu</a>
</div>

<h1>Coverage Summary for Class: GuessEvaluation (org.fdu)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">GuessEvaluation</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    87.5%
  </span>
  <span class="absValue">
    (21/24)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (23/23)
  </span>
</td>
</tr>
  <tr>
    <td class="name">GuessEvaluation$Result</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    87.5%
  </span>
  <span class="absValue">
    (21/24)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (24/24)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.fdu;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Arrays;  // to use Arrays.fill utility
&nbsp;import java.util.List;
&nbsp;
&nbsp;/**
&nbsp; * Evaluates the users guess against the secret word (selected from the dictionary).
&nbsp; * Defines the colors indicating the &quot;correctness&quot; of each character in the user&#39;s guess.
&nbsp; * Tracks the number of guesses by the player, initialized to zero by constructor, incremented by guess evaluater.
&nbsp; *   method available to check if user has used all of the allowable guesses (hardcoded as 6 in GUESS_LIMIT)
&nbsp; *
&nbsp; * class assumes the users guess are validated prior to calling here
&nbsp; *   In current implementation: if the userGuess is invalid (e.g. &gt;5 chars), an all GRAY result is returned
&nbsp; *   ToDo - throw exception if the userGuess and/or secretWord are not valid
&nbsp; */
&nbsp;
&nbsp;public class GuessEvaluation {
&nbsp;
&nbsp;
&nbsp;
&nbsp;    // Empty constructor for now, in the future may allow configurable word size
<b class="fc">&nbsp;    public GuessEvaluation() {</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Enum defining the valid colors for guess evaluation
&nbsp;     */
<b class="fc">&nbsp;    public enum Result  {GREEN, YELLOW, GRAY}</b>
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Evaluate the users guess
&nbsp;     *    Returns an array (size of userGuess, equal to WORD_LENGTH)
&nbsp;     *    If arguments valid (caller to validate prior), increments user turn count
&nbsp;     *      Note: Does not check if game is won (separate method)
&nbsp;     *    Errors: if the userGuess and/or secretWord are not valid (isWordValid()) return all GRAY
&nbsp;     *       ToDo: throw an exception instead - since it is expected userGuess is validated prior to calling
&nbsp;     *
&nbsp;     * @param userGuess - string containing the user guess, validate prior to calling
&nbsp;     * @param secretWord - string with dictionary word, assumed valid
&nbsp;     * @return - array of Result enums (colors), the size of the userGuess
&nbsp;     */
&nbsp;    public Result[] evaluateGuess(String userGuess, String secretWord) {
&nbsp;        // default results - all Gray - rather than hardcoding, use size of userGuess
<b class="fc">&nbsp;        Result[] resultArray = new Result[userGuess.length()];</b>
<b class="fc">&nbsp;        Arrays.fill(resultArray, Result.GRAY);</b>
&nbsp;
&nbsp;        // validate both the userGuess &amp; the secretWord (hopefully validated prior to calling)
<b class="pc">&nbsp;        if (!GuessValidation.isWordValid(userGuess) ||  !GuessValidation.isWordValid(secretWord)) return resultArray;</b>
&nbsp;
&nbsp;        /*
&nbsp;         * approach: loop through each character in user guess,
&nbsp;         *   exact placement match comparisons use: userGuess and secretWord Strings
&nbsp;         *   if in secretWord list, remove the letter from the local list (ie handles multiples)
&nbsp;         *   e.g. if userGuess has two As, and secretWord only one, 1st check will remove, 2nd A won&#39;t
&nbsp;         *     be in the remaining chars, so will be flagged as not found (GRAY)
&nbsp;         */
&nbsp;        // store the secret word characters in a locally defined list
<b class="fc">&nbsp;        List&lt;Character&gt; letters = new ArrayList&lt;Character&gt;();</b>
<b class="fc">&nbsp;        for  (char ch : secretWord.toCharArray()) {</b>
<b class="fc">&nbsp;            letters.add(ch);</b>
&nbsp;        }
&nbsp;
&nbsp;        // walk through the guess
&nbsp;        //  FIRST phase - exact match of letter &amp; location
&nbsp;        //       Result[letter location] = Green &amp; delete character at that location
&nbsp;        //  SECOND phase - for all non-exact matches
&nbsp;        //    if character in same location in secret word array
&nbsp;        //    if not and character in secret word list
&nbsp;        //       Result[letter location] = Yellow &amp; delete character from list
&nbsp;        //    else
&nbsp;        //       Result[letter location] = Gray (no deletion)
<b class="fc">&nbsp;        for (int itr = 0; itr &lt; userGuess.length(); itr++) {</b>
<b class="fc">&nbsp;            if (userGuess.charAt(itr) == secretWord.charAt(itr)) {</b>
<b class="fc">&nbsp;                resultArray[itr] = Result.GREEN;</b>
<b class="fc">&nbsp;                letters.remove((Object) userGuess.charAt(itr));  // this may be a problem - possible to remove wrong letter?</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        for (int itr = 0; itr &lt; userGuess.length(); itr++) {</b>
<b class="fc">&nbsp;            if (resultArray[itr] != Result.GREEN) {</b>
<b class="fc">&nbsp;                if (letters.remove((Object) userGuess.charAt(itr))) {</b>
<b class="fc">&nbsp;                    resultArray[itr] = Result.YELLOW;</b>
&nbsp;                }
<b class="fc">&nbsp;                else resultArray[itr] = Result.GRAY;</b>
&nbsp;            }// exact matches handled in first phase
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return resultArray;  // done - return the results</b>
&nbsp;    }  // end evaluateGuess
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * If every letter in secret word matches corresponding guess, player has won
&nbsp;     * @return true - all characters match position, false otherwise
&nbsp;     */
&nbsp;    public boolean isGuessCorrect(String userGuess, String secretWord) {
<b class="pc">&nbsp;        if (!GuessValidation.isWordValid(userGuess) ||  !GuessValidation.isWordValid(secretWord))</b>
<b class="fc">&nbsp;            return false;  // validity check before proceeding</b>
<b class="fc">&nbsp;        for (int itr = 0; itr &lt; secretWord.length(); itr++) {</b>
<b class="fc">&nbsp;            if (userGuess.charAt(itr) != secretWord.charAt(itr))</b>
<b class="fc">&nbsp;                return false;</b>
&nbsp;        }
<b class="fc">&nbsp;        return true; // all characters matched - user WON</b>
&nbsp;    }  // end isGuessCorrect()
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-12-21 21:04</div>
</div>
</body>
</html>
