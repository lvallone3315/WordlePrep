


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > WordleDictionary</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.fdu</a>
</div>

<h1>Coverage Summary for Class: WordleDictionary (org.fdu)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">WordleDictionary</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    83.3%
  </span>
  <span class="absValue">
    (10/12)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    95.8%
  </span>
  <span class="absValue">
    (23/24)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.fdu;
&nbsp;
&nbsp;import java.util.*;  // for List &amp; ArrayList
&nbsp;import java.util.Random;
&nbsp;import java.io.*;
&nbsp;import java.nio.charset.StandardCharsets;
&nbsp;
&nbsp;/**
&nbsp; * Configures and populates the dictionary of valid Wordle solutions. &lt;br&gt;
&nbsp; * Includes methods to get a new word and return the last word selected
&nbsp; *
&nbsp; * &lt;p&gt;
&nbsp; * Constructor populates dictionary from an included csv. &lt;br&gt;
&nbsp; * If the program can&#39;t open the csv (or is empty or zero valid words), &lt;br&gt;
&nbsp; *   it uses a very small dictionary of preSelected words. &lt;br&gt;
&nbsp; * Two additional methods are provided: &lt;br&gt;
&nbsp; * - randomly select and return a new word from the dictionary &lt;br&gt;
&nbsp; * - return the last word selected
&nbsp; * &lt;/p&gt;
&nbsp; * Two test methods provided:&lt;br&gt;
&nbsp; * - constructor(dictionary name) - to allow testing of invalid dictionaries &lt;br&gt;
&nbsp; * - getDictionarySize() - to check if using full dictionary or small version &lt;br&gt;
&nbsp; *
&nbsp; * @author Lee V
&nbsp; * @version v1.0 (first version with a full dictionary)
&nbsp; * @since 0.0.1
&nbsp; */
&nbsp;
&nbsp;public class WordleDictionary {
&nbsp;    private String currentWord;
<b class="fc">&nbsp;    private String[] smallWordSet = {&quot;CRANE&quot;, &quot;SHINE&quot;, &quot;PLANT&quot;, &quot;BRICK&quot;, &quot;DRAFT&quot;};</b>
<b class="fc">&nbsp;    private final List&lt;String&gt; dictionary = new ArrayList&lt;&gt;();</b>
&nbsp;    private static final String SOLUTIONS_DICTIONARY = &quot;valid_solutions.csv&quot;;  // must be static for overloaded constructor
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Read the dictionary file into the program,
&nbsp;     *    if can&#39;t open the dictionary (or can&#39;t find it), use a few predefined words &lt;br&gt;
&nbsp;     * Overloaded constructor so we can test invalid dictionaries
&nbsp;     *
&nbsp;     * &lt;br&gt; IO exception caught internally (ie not actually thrown)
&nbsp;     */
&nbsp;    public WordleDictionary() {
<b class="fc">&nbsp;        this(SOLUTIONS_DICTIONARY);</b>
&nbsp;    }
<b class="fc">&nbsp;    public WordleDictionary(String dictionaryName) {</b>
<b class="fc">&nbsp;        try (InputStream is = getClass().getClassLoader().getResourceAsStream(dictionaryName);</b>
<b class="fc">&nbsp;             InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);</b>
<b class="fc">&nbsp;             BufferedReader reader = new BufferedReader(isr)) {</b>
<b class="fc">&nbsp;            GuessValidation validator = new GuessValidation();</b>
&nbsp;
<b class="pc">&nbsp;            if (is == null) {</b>
<b class="nc">&nbsp;                throw new FileNotFoundException(&quot;Dictionary file not found&quot;);</b>
&nbsp;            }
&nbsp;            // string should be valid and trimmed - but just to be safe
&nbsp;            String line;
<b class="fc">&nbsp;            while ((line = reader.readLine()) != null) {</b>
<b class="fc">&nbsp;                if (validator.isWordValid(line.toUpperCase().trim())) {</b>
<b class="fc">&nbsp;                    dictionary.add(line.toUpperCase().trim());</b>
&nbsp;                }
&nbsp;            }
&nbsp;            // if dictionary is empty - throw exception &amp; use preloaded version
<b class="fc">&nbsp;            if (dictionary.isEmpty()) {</b>
<b class="fc">&nbsp;                throw new FileNotFoundException(&quot;Dictionary file was empty&quot;);</b>
&nbsp;            }
&nbsp;        } catch (IOException | NullPointerException e) {
&nbsp;            //  if we can&#39;t open the external dictionary, use the few words we defined above
<b class="fc">&nbsp;            e.printStackTrace();</b>
<b class="fc">&nbsp;            for (int itr = 0; itr &lt; smallWordSet.length; itr++) {</b>
<b class="fc">&nbsp;                dictionary.add(smallWordSet[itr]);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     *     randomly select a word from the dictionary, assume lower bound = 0, upper = dictionary size
&nbsp;     *        nextInt maximum = specified parameter ie [0,param]
&nbsp;     * @return randomly selected word or &quot;&quot; if dictionary is empty (ToDo: throw an exception)
&nbsp;     */
&nbsp;    public String pickNewWord() {
<b class="pc">&nbsp;        if (dictionary.isEmpty()) { return &quot;&quot;; }</b>
&nbsp;
<b class="fc">&nbsp;        Random random = new Random();</b>
<b class="fc">&nbsp;        this.currentWord = dictionary.get(random.nextInt(dictionary.size()));</b>
<b class="fc">&nbsp;        return this.currentWord;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     *     get the word selected from the last call to pickNewWord()
&nbsp;     * @return last word selected from dictionary
&nbsp;     */
&nbsp;
&nbsp;    public String getCurrentWord() {
<b class="fc">&nbsp;        return this.currentWord;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * For testing - return the size of the dictionary
&nbsp;     * @return number of words in the dictionary
&nbsp;     */
&nbsp;    public int getDictionarySize() {
<b class="fc">&nbsp;        return dictionary.size();</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-12-21 21:04</div>
</div>
</body>
</html>
